var app={init:function(){app.initHomeCycle(),app.fancyBoxInit(),app.singlePageScroll(),app.backToTopAnimation(),app.onTopDetect(),app.connectApproachPointToggle(),app.heroCaptionPadding(),app.initParalax(),app.animateHeroText(),app.detectMobile(),app.detectIsHeroImageLoaded(),app.connectEventViewMore(),app.connectTeamPopup(),app.wrapConnectTeam(),app.sliceSlideBackground(),app.objectFitPolyfill(),app.checkIfOldIE()},detectIE:function(){for(var e,t=3,n=document.createElement("div");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",n.getElementsByTagName("i")[0];);return t>4?t:e},checkIfOldIE:function(){app.detectIE()<10&&jQuery("body").addClass("old-browser"),jQuery(".browser-disclaimer a").click(function(){jQuery(".browser-disclaimer").hide()})},wrapConnectTeam:function(){jQuery(".connect-team .fancybox-thumb img").wrap('<div class="image"></div>')},objectFitPolyfill:function(){var e=function(){"use strict";function e(e){for(var t,n=getComputedStyle(e).fontFamily,r={};null!==(t=a.exec(n));)r[t[1]]=t[2];return r}function t(e,t){if(!e[o].parsingSrcset){var r=c(e);if(r["object-fit"]=r["object-fit"]||"fill",!e[o].s){if("fill"===r["object-fit"])return;if(!e[o].skipTest&&s&&!r["object-position"])return}var i=e[o].ios7src||e.currentSrc||e.src;if(t)i=t;else if(e.srcset&&!u&&window.picturefill){var a=window.picturefill._.ns;e[o].parsingSrcset=!0,e[a]&&e[a].evaled||window.picturefill._.fillImg(e,{reselect:!0}),e[a].curSrc||(e[a].supported=!1,window.picturefill._.fillImg(e,{reselect:!0})),delete e[o].parsingSrcset,i=e[a].curSrc||i}if(e[o].s)e[o].s=i,t&&(e[o].srcAttr=t);else{e[o]={s:i,srcAttr:t||d.call(e,"src"),srcsetAttr:e.srcset},e.src=o;try{e.srcset&&(e.srcset="",Object.defineProperty(e,"srcset",{value:e[o].srcsetAttr})),n(e)}catch(c){e[o].ios7src=i}}e.style.backgroundImage='url("'+i+'")',e.style.backgroundPosition=r["object-position"]||"center",e.style.backgroundRepeat="no-repeat",/scale-down/.test(r["object-fit"])?(e[o].i||(e[o].i=new Image,e[o].i.src=i),function l(){return e[o].i.naturalWidth?void(e[o].i.naturalWidth>e.width||e[o].i.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"):void setTimeout(l,100)}()):e.style.backgroundSize=r["object-fit"].replace("none","auto").replace("fill","100% 100%")}}function n(e){var n={get:function(){return e[o].s},set:function(n){return delete e[o].i,t(e,n),n}};Object.defineProperty(e,"src",n),Object.defineProperty(e,"currentSrc",{get:n.get})}function r(){l||(HTMLImageElement.prototype.getAttribute=function(e){return!this[o]||"src"!==e&&"srcset"!==e?d.call(this,e):this[o][e+"Attr"]},HTMLImageElement.prototype.setAttribute=function(e,t){!this[o]||"src"!==e&&"srcset"!==e?p.call(this,e,t):this["src"===e?"src":e+"Attr"]=String(t)})}function i(e,n){var r=!f&&!e;if(n=n||{},e=e||"img",l&&!n.skipTest)return!1;"string"==typeof e?e=document.querySelectorAll("img"):e.length||(e=[e]);for(var a=0;a<e.length;a++)e[a][o]=e[a][o]||n,t(e[a]);r&&(document.body.addEventListener("load",function(e){"IMG"===e.target.tagName&&i(e.target,{skipTest:n.skipTest})},!0),f=!0,e="img"),n.watchMQ&&window.addEventListener("resize",i.bind(null,e,{skipTest:n.skipTest}))}var o="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",a=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,c=new Image,s="object-fit"in c.style,l="object-position"in c.style,u="string"==typeof c.currentSrc,d=c.getAttribute,p=c.setAttribute,f=!1;return i.supportsObjectFit=s,i.supportsObjectPosition=l,r(),i}();return e()},sliceSlideBackground:function(){var e=jQuery(".home .slideshow .slide");e.each(function(){var e=jQuery(this).css("background-image");e=e.replace("url(","").replace(")","").replace(/\"/gi,""),jQuery(this).append('<div class="slide-bg" style="background-image: url('+e+')"></div>'),jQuery(this).css({backgroundImage:"none"}),jQuery(this).data("background-image",e)})},onResize:function(){app.heroCaptionPadding(),app.detectMobile()},onOrientationChange:function(){app.heroCaptionPadding(),app.detectMobile()},connectTeamPopup:function(){jQuery(".connect-team .fancybox-thumb").click(function(){var e=jQuery(this).find(".team-name").text(),t=jQuery(this).data("desc"),n=jQuery(this).data("url"),r=jQuery(this).find("img").attr("src");jQuery("#connect-team-popup").find(".name").text(e),jQuery("#connect-team-popup").find(".desc").html(t),jQuery("#connect-team-popup").find(".url a").text(n).attr("href","http://"+n),jQuery("#connect-team-popup").find(".image img").attr("src",r)})},connectEventViewMore:function(){var e=jQuery('.connect-events [class^="col-md-"]:last-child'),t=e.prev(),n="event-item-wrapper";t.andSelf().wrapAll('<div class="'+n+'"></div>').parent().hide();var r=jQuery(".connect-events-view-more"),i=r.text();r.click(function(){if(jQuery(this).hasClass("collapsed")){jQuery(this).removeClass("collapsed"),jQuery(this).text(i),jQuery("."+n).hide();var e=jQuery("#header").outerHeight();jQuery("html, body").animate({scrollTop:jQuery(".connect-events").offset().top-e},500)}else jQuery(this).addClass("collapsed"),jQuery(this).text("View less"),jQuery("."+n).show();return!1})},detectIsHeroImageLoaded:function(){if(!jQuery("body").hasClass("home"))return!1;var e=jQuery(".hero .hero-logo"),t=new Image;t.onload=function(){app.heroCaptionPadding(),jQuery("body").addClass("hero-caption-padding-ready")},t.src=e.attr("src")},animateHeroText:function(){setTimeout(function(){jQuery("body").addClass("document-ready")},100)},detectMobile:function(){var e=window.matchMedia("only screen and (max-width: 769px)"),t=window.matchMedia("only screen and (max-width: 1024px) and (orientation: landscape)");e.matches||t.matches?jQuery("body").addClass("is-on-mobile"):jQuery("body").removeClass("is-on-mobile")},initParalax:function(){var e=jQuery(".homepage .hero, .page-hero");if(!e.length)return!1;var t=e.css("background-image");t=t.replace("url(","").replace(")","").replace(/\"/gi,""),e.parallax({imageSrc:t}),jQuery("body").addClass("paralax-active")},heroCaptionPadding:function(){if(!jQuery("body").hasClass("home"))return!1;var e=jQuery(".hero-wrapper .container"),t=jQuery(".hero-logo"),n=t.outerWidth(),r=e.outerWidth(),i=e.offset().left,o=50;if(n>i){var a=n-i+o;e.css({paddingLeft:a})}else e.css({paddingLeft:o})},connectApproachPointToggle:function(){var e=jQuery(".connect-approach ul");e.before('<i class="icon-plus-circled">'),jQuery(document).on("click",".icon-plus-circled",function(){jQuery(this).hasClass("opened")?(jQuery(this).removeClass("opened"),jQuery(this).next().slideUp()):(jQuery(this).addClass("opened"),jQuery(this).next().slideDown())})},initHomeCycle:function(){jQuery(".connect-highlight .slideshow").cycle({speed:1e3,manualSpeed:1e3,slides:"> .slide",fx:"scrollHorz",next:"> .right",prev:"> .left",timeout:1e4,pauseOnHover:!0})},fancyBoxInit:function(){jQuery(".fancybox-thumb").fancybox({prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"},buttons:{}}})},singlePageScroll:function(){jQuery(".go-to-link, #connect-contact--team").click(function(){var e=jQuery(this).data("target"),t=jQuery("#header").outerHeight();return jQuery("html, body").animate({scrollTop:$(e).offset().top-t},500),!1})},backToTopAnimation:function(){var e="#back-to-top";jQuery(e).click(function(e){e.preventDefault(),jQuery("html,body").animate({scrollTop:0},500)})},onTopDetect:function(){jQuery(window).scroll(function(){var e=jQuery(document).scrollTop();e>0?jQuery("body").addClass("not-on-top"):jQuery("body").removeClass("not-on-top")})}};jQuery(document).ready(function(){app.init(),jQuery(window).resize(function(){app.onResize()}),window.addEventListener("orientationchange",function(){app.onOrientationChange()},!1)});